<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/iron-list/iron-list.html">
<link rel="import" href="../bower_components/isw-dialog/isw-dialog.html">
<link rel="import" href="../bower_components/isw-dialog/isw-dialog-remote.html">
<link rel="import" href="../bower_components/show-more/show-more.html">





<link rel="import" href="devocional-editor.html">
<link rel="import" href="devocional-item.html">

<dom-module id="devocional-view">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
    </style>

   <!-- <devocional-editor name="editor">
    </devocional-editor>-->
    <dom-repeat items="[[devocionalItems]]" >
        <template>
        	  <devocional-item id="{{item.index}}" date="[[item.date]]" book="[[item.book]]" chapter="[[item.chapter]]" is-selected="{{item.selected}}" on-selected="itemSelected">
              </devocional-item>
          </template>
      </dom-repeat>
    
    
  </template>

  <script>
    class DevocionalView extends Polymer.Element {
      static get is() { return 'devocional-view'; }
      static get properties(){
                return {
                 lastSelected:{
                    type: Object
                 },
                 lastId:{
                 	type:String
                 },
               
        };
        }
      ready(){
      	super.ready();
          this.devocionalItems = [{"date":"01/04/2017"},{"date":"10/05/2018", "book":"S.Juan","chapter":"2"},{"date":"test"}];
      
      }
      itemSelected(e){ 
      	if(this.lastSelected !== e.model && this.lastSelected){
      	  this.lastSelected.set('item.selected',false);
            // this.lastSelected.set('item.date',"date");
          }
      	this.lastSelected = e.model;
          
      }
    }

    window.customElements.define(DevocionalView.is, DevocionalView);
  </script>
</dom-module>